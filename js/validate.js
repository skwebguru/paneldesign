!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.validate=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,r={},a={selector:"form:not(.no-validate)",fieldClass:"error",errorClass:"error-message",messageValueMissing:"Please fill out this field.",messageValueMissingCheckbox:"This field is required.",messageValueMissingRadio:"Please select a value.",messageValueMissingSelect:"Please select a value.",messageValueMissingSelectMulti:"Please select at least one value.",messageTypeMismatchEmail:"Please enter an email address.",messageTypeMismatchURL:"Please enter a URL.",messageTooShort:"Please lengthen this text to {minLength} characters or more. You are currently using {length} characters.",messageTooLong:"Please shorten this text to no more than {maxLength} characters. You are currently using {length} characters.",messagePatternMismatch:"Please match the requested format.",messageBadInput:"Please enter a number.",messageStepMismatch:"Please select a valid value.",messageRangeOverflow:"Please select a value that is no more than {max}.",messageRangeUnderflow:"Please select a value that is no less than {min}.",messageGeneric:"The value you entered for this field is invalid.",disableSubmit:!1,onSubmit:function(){},beforeShowError:function(){},afterShowError:function(){},beforeRemoveError:function(){},afterRemoveError:function(){}};Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var s=function(){var e={},t=!1,r=0,a=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],r++);r<a;r++)!function(r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t&&"[object Object]"===Object.prototype.toString.call(r[a])?e[a]=s(!0,e[a],r[a]):e[a]=r[a])}(arguments[r]);return e};function o(e){for(var r=document.querySelectorAll(t.selector),a=0;a<r.length;a++)e?r[a].removeAttribute("novalidate"):r[a].setAttribute("novalidate",!0)}function n(e){if(e.target.form&&e.target.form.matches(t.selector)){var a=r.hasError(e.target);if(a)return void r.showError(e.target,a);r.removeError(e.target)}}function i(e){if(e.target.form&&e.target.form.matches(t.selector)){var a=e.target.getAttribute("type");if("checkbox"===a||"radio"===a){var s=r.hasError(e.target);if(s)return void r.showError(e.target,s);r.removeError(e.target)}}}function l(e){if(e.target.matches(t.selector)){for(var a,s=e.target.elements,o=0;o<s.length;o++){var n=r.hasError(s[o]);n&&(r.showError(s[o],n),a=a||s[o])}if((a||t.disableSubmit)&&e.preventDefault(),a)return void a.focus();t.onSubmit(e.target,s)}}return r.hasError=function(e,r){var o=s(t||a,r||{});if(!e.disabled&&"file"!==e.type&&"reset"!==e.type&&"submit"!==e.type&&"button"!==e.type){var n=e.validity;if(!n.valid){if(n.valueMissing)return"checkbox"===e.type?o.messageValueMissingCheckbox:"radio"===e.type?o.messageValueMissingRadio:"select-multiple"===e.type?o.messageValueMissingSelectMulti:"select-one"===e.type?o.messageValueMissingSelect:o.messageValueMissing;if(n.typeMismatch){if("email"===e.type)return o.messageTypeMismatchEmail;if("url"===e.type)return o.messageTypeMismatchURL}return n.tooShort?o.messageTooShort.replace("{minLength}",e.getAttribute("minLength")).replace("{length}",e.value.length):n.tooLong?o.messageTooLong.replace("{minLength}",e.getAttribute("maxLength")).replace("{length}",e.value.length):n.badInput?o.messageBadInput:n.stepMismatch?o.messageStepMismatch:n.rangeOverflow?o.messageRangeOverflow.replace("{max}",e.getAttribute("max")):n.rangeUnderflow?o.messageRangeUnderflow.replace("{min}",e.getAttribute("min")):n.patternMismatch?e.hasAttribute("title")?e.getAttribute("title"):o.messagePatternMismatch:o.messageGeneric}}},r.showError=function(e,r,o){var n=s(t||a,o||{});if(n.beforeShowError(e,r),e.classList.add(n.fieldClass),"radio"===e.type&&e.name){var i=document.getElementsByName(e.name);if(0<i.length){for(var l=0;l<i.length;l++)i[l].form===e.form&&i[l].classList.add(n.fieldClass);e=i[i.length-1]}}var m,c,u=e.id||e.name;u&&((c=e.form.querySelector("."+n.errorClass+"#error-for-"+u))||((c=document.createElement("div")).className=n.errorClass,c.id="error-for-"+u,"radio"!==e.type&&"checkbox"!==e.type||(m=e.form.querySelector('label[for="'+u+'"]')||function(e){for(;e&&e!==document;e=e.parentNode)if(e.matches("label"))return e;return null}(e))&&m.parentNode.insertBefore(c,m.nextSibling),m||e.parentNode.insertBefore(c,e.nextSibling)),e.setAttribute("aria-describedby","error-for-"+u),c.innerHTML=r,c.style.display="",c.style.visibility="",n.afterShowError(e,r))},r.removeError=function(e,r){var o=s(t||a,r||{});if(o.beforeRemoveError(e),e.removeAttribute("aria-describedby"),e.classList.remove(o.fieldClass),"radio"===e.type&&e.name){var n=document.getElementsByName(e.name);if(0<n.length){for(var i=0;i<n.length;i++)n[i].form===e.form&&n[i].classList.remove(o.fieldClass);e=n[n.length-1]}}var l,m=e.id||e.name;!m||(l=e.form.querySelector("."+o.errorClass+"#error-for-"+m))&&(l.innerHTML="",l.style.display="none",l.style.visibility="hidden",o.afterRemoveError(e))},r.destroy=function(){if(t){document.removeEventListener("blur",n,!0),document.removeEventListener("click",i,!1),document.removeEventListener("submit",l,!1);for(var e=document.querySelectorAll(t.errorClass),a=0;a<e.length;a++)r.removeError(e[a]);o(!0),t=null}},r.init=function(m){"querySelector"in document&&"addEventListener"in e&&(r.destroy(),t=s(a,m||{}),o(),document.addEventListener("blur",n,!0),document.addEventListener("click",i,!0),document.addEventListener("submit",l,!1))},r});